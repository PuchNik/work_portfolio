"use client"

import { useState } from "react"
import { Card, CardContent } from "@/components/ui/card"
import { Badge } from "@/components/ui/badge"
import { ChevronDown, ChevronUp, Calendar } from "lucide-react"
import { cn } from "@/lib/utils"

interface WorkExperience {
  company: string
  position: string
  period: string
  location: string
  description: string
  achievements: string[]
  technologies: string[]
}

export default function WorkExperienceSection() {
  // Существующий код с experiences...
  const experiences: WorkExperience[] = [
    {
      company: "РТУ МИРЭА",
      position: "Заместитель преподавателя",
      period: "01.09.2024 - 31.12.2024",
      location: "Москва",
      description:
        'Преподавал курс "Основы веб-технологий" с акцентом на библиотеку React, включая использование функциональных компонентов и хуков (useState, useEffect).',
      achievements: [
        "Объяснял принципы асинхронности в JavaScript, включая работу с промисами и async/await, что позволяло студентам эффективно управлять асинхронными запросами.",
        "Разработал учебные материалы, охватывающие такие темы, как управление состоянием с помощью Context API и Redux, а также маршрутизация с использованием React Router.",
        "Проводил лабораторные занятия, на которых студенты создавали интерактивные веб-приложения, применяя полученные знания о компонентах, пропсах и жизненном цикле компонентов.",
        "Оценивал работы студентов и предоставлял конструктивную обратную связь, способствуя их профессиональному росту и развитию навыков программирования.",
        "Участвовал в разработке учебного плана и методических рекомендаций по курсу, что способствовало улучшению качества обучения.",
      ],
      technologies: ["React", "JavaScript", "Context API", "Redux", "React Router"],
    },
    {
      company: "ООО НПП «Циркон Сервис»",
      position: "Разработка сайта-компании",
      period: "2023",
      location: "Россия",
      description:
        "В рамках своей профессиональной деятельности активно участвовал в разработке веб-сайта компании, что включало в себя несколько ключевых этапов и задач. Провел встречи с ключевыми заинтересованными сторонами для определения функциональных и нефункциональных требований к веб-сайту, обсуждая целевую аудиторию, основные цели сайта и необходимые функции.",
      achievements: [
        "Разработал интерактивные прототипы и макеты страниц, что позволило визуализировать структуру и пользовательский интерфейс, используя инструменты для проектирования, такие как Figma, для демонстрации концепции дизайна.",
        "Спроектировал структуру сайта, включая навигацию и иерархию контента, что обеспечило удобство использования и доступность информации для пользователей.",
        "Участвовал в написании кода для фронтенд и бэкенд частей сайта, используя современные технологии и фреймворки, такие как HTML, CSS и JavaScript.",
        "Проводил тестирование функциональности сайта, включая юзабилити-тестирование и тестирование на различных устройствах и браузерах.",
        "Разработал документацию для пользователей и администраторов сайта, а также провел обучение для сотрудников, ответственных за дальнейшую поддержку и обновление контента.",
      ],
      technologies: ["HTML", "CSS", "JavaScript", "Figma", "Responsive Design"],
    },
    {
      company: "ООО НПП «Циркон Сервис»",
      position: "Поддержка сайта на платформе Joomla",
      period: "2022",
      location: "Россия",
      description:
        "В организации ООО НПП «Циркон Сервис» я обеспечивал техническую поддержку корпоративного сайта, разработанного на платформе Joomla. Мои обязанности включали обновление контента, настройку модулей и поддержку баз данных сайта.",
      achievements: [
        "Применял HTML, CSS и JavaScript для кастомизации интерфейса и добавления интерактивных элементов.",
        "Использовал GitHub для контроля версий и синхронизации изменений в проекте.",
        "Интегрировал сторонние API для расширения функционала сайта.",
        "Оптимизировал производительность сайта и улучшал пользовательский опыт.",
      ],
      technologies: ["Joomla", "HTML", "CSS", "JavaScript", "GitHub", "API Integration"],
    },
    {
      company: "Хакатон",
      position: "Участие в хакатоне по разработке сайта",
      period: "2022",
      location: "Россия",
      description:
        "В рамках второго хакатона я работал в команде, сосредоточенной на разработке веб-сайта с использованием React. Наша команда состояла из разработчиков с различным опытом, что позволило эффективно распределить задачи и достичь высоких результатов.",
      achievements: [
        "Активно применяли React для создания пользовательского интерфейса, используя хуки, такие как `useState` и `useEffect`, для управления состоянием и побочными эффектами.",
        "Для централизованного управления состоянием внедрили Redux и использовали Context API для упрощения передачи данных.",
        "Реализовали маршрутизацию с помощью React Router, что обеспечило плавную навигацию.",
        "Работали в тесном сотрудничестве, проводя регулярные встречи для обсуждения прогресса и решения проблем.",
        "Использовали GitHub для управления версиями, что обеспечивало прозрачность и упрощало совместное использование кода.",
      ],
      technologies: ["React", "Redux", "Context API", "React Router", "GitHub", "Teamwork"],
    },
    {
      company: "Хакатон",
      position: "Участие в хакатоне по разработке контекстного меню",
      period: "2021",
      location: "Россия",
      description:
        "В рамках хакатона я был членом команды, занимающейся разработкой функционального контекстного меню для веб-приложений с использованием JavaScript и GitHub.",
      achievements: [
        "Активно участвовал в обсуждении идей и концепций контекстного меню, включая стандартные и пользовательские функции.",
        "Внес значительный вклад в реализацию логики работы меню с использованием JavaScript, включая обработку событий клика правой кнопкой мыши, динамическое отображение меню и выполнение действий в зависимости от контекста.",
        "Участвовал в разработке семантической разметки для обеспечения доступности меню и создании стилей с помощью CSS для формирования привлекательного пользовательского интерфейса.",
        "Применял GitHub для совместной работы над кодом, что способствовало эффективному управлению версиями и интеграции изменений.",
      ],
      technologies: ["JavaScript", "HTML", "CSS", "GitHub", "Accessibility", "UI/UX"],
    },
    {
      company: "РТУ МИРЭА - Магистерская диссертация",
      position: "Приложение для специалистов в информационной безопасности",
      period: "2023",
      location: "Россия",
      description:
        'Я разработал приложение для магистерской диссертационной работы на тему "Приложение для специалистов в области информационной безопасности, ориентированное на нормативно-правовые акты", используя подход vibeCoding, который позволяет создавать гибкие и адаптивные решения.',
      achievements: [
        "Провел исследование потребностей специалистов в области информационной безопасности, нуждающихся в оперативном доступе к актуальным нормативно-правовым актам.",
        "На основе полученных данных была разработана концепция приложения с удобным интерфейсом для поиска, анализа и отслеживания изменений в законодательстве.",
        "На выполнение работы было затрачено около 3-4 часов, в течение которых я сосредоточился на проектировании структуры приложения, его функциональных возможностей и пользовательского интерфейса.",
      ],
      technologies: ["vibeCoding", "UI/UX Design", "Information Security", "Legal Compliance"],
    },
    {
      company: "Проект",
      position: "Опыт работы с искусственным интеллектом и написание промптов",
      period: "2023 - 2024",
      location: "Россия",
      description:
        "Я использовал ChatGPT для генерации промптов и создания рабочих материалов, таких как документация, регламенты и отчёты, с акцентом на информационную безопасность и ИТ-процессы.",
      achievements: [
        "Разрабатывал программный код и скрипты для автоматизации рабочих задач с помощью искусственного интеллекта.",
        "Работал с различными инструментами AI, включая DeepSec, Leonardo Da Vinci, Looka, Uizard, NotionAI и GammaAI, для генерации решений и повышения эффективности рабочих процессов.",
        "Применял ИИ для ускорения анализа данных, создания рекомендаций по улучшению системы безопасности и разработки новых продуктов.",
      ],
      technologies: [
        "ChatGPT",
        "AI Tools",
        "Automation",
        "Information Security",
        "DeepSec",
        "Leonardo Da Vinci",
        "NotionAI",
        "GammaAI",
      ],
    },
    {
      company: "ООО НПП «Циркон Сервис»",
      position: "Внедрение политики безопасности для фронтенд-приложений",
      period: "2022",
      location: "Россия",
      description:
        "В рамках своей деятельности на позиции специалиста по информационной безопасности я активно участвовал в разработке и внедрении комплексной политики информационной безопасности, ориентированной на защиту фронтенд-приложений, используемых в производственных процессах завода по производству VIP вагонов.",
      achievements: [
        "Провел детальный анализ существующих фронтенд-приложений с целью выявления потенциальных уязвимостей и рисков, связанных с обработкой и хранением конфиденциальной информации клиентов, с использованием методологий OWASP.",
        "Разработал набор стандартов и рекомендаций по безопасному кодированию, которые включали лучшие практики для предотвращения распространенных уязвимостей, таких как XSS, CSRF и инъекции SQL.",
        "Реализовал механизмы защиты данных, включая шифрование передаваемой информации и использование безопасных протоколов (HTTPS).",
        "Организовал и провел обучающие семинары для команды разработчиков, что способствовало формированию культуры безопасности в команде.",
      ],
      technologies: [
        "OWASP",
        "XSS Prevention",
        "CSRF Protection",
        "SQL Injection Prevention",
        "HTTPS",
        "Security Training",
      ],
    },
    {
      company: "Проект",
      position: "Снижение уязвимостей: безопасные практики разработки",
      period: "2023",
      location: "Россия",
      description:
        "В рамках своей роли специалиста по информационной безопасности я успешно реализовал инициативу по снижению количества уязвимостей, выявленных в ходе регулярных тестирований, на 40%. Это было достигнуто благодаря внедрению безопасных практик разработки и проведению регулярного обучения команды фронтенд-разработчиков.",
      achievements: [
        "Провел всесторонний анализ существующих уязвимостей в приложениях, используя результаты предыдущих тестирований и аудитов безопасности.",
        "Разработал и внедрил набор безопасных практик кодирования, основанных на рекомендациях OWASP и других авторитетных источниках.",
        "Организовал и провел регулярные обучающие семинары и тренинги для команды разработчиков.",
        "Сотрудничая с командой DevOps, интегрировал решения по безопасности в CI/CD процессы.",
        "Установил метрики для оценки эффективности внедренных практик и обучения, что позволило отслеживать динамику снижения количества уязвимостей.",
      ],
      technologies: ["OWASP", "Secure Coding", "DevOps", "CI/CD", "Security Metrics", "Vulnerability Assessment"],
    },
    {
      company: "ФГБУ фб МСЭ",
      position: "Стажировка по направлению «Сетевые технологии»",
      period: "01.01.2021 - 31.08.2021",
      location: "Россия",
      description:
        "Проходил стажировку по направлению «Сетевые технологии», где получил практический опыт в проектировании и построении локальных сетей, настройке сетевого оборудования и обеспечении безопасности сетевой инфраструктуры.",
      achievements: [
        "Участвовал в проектировании и построении локальной сети: организация топологии, прокладка и маркировка сетевых кабелей.",
        "Настраивал маршрутизацию и обеспечивал сетевую связность с использованием оборудования Cisco, MikroTik и TP-Link.",
        "Работал как через веб-интерфейс, так и через консоль управления (CLI) для конфигурации сетевых устройств.",
        "Производил настройку и тестирование IP-телефонии, включая конфигурацию SIP-линий и VoIP-шлюзов.",
        "Использовал инструменты сетевой диагностики и мониторинга: WireShark, Nmap, MTR для анализа трафика, выявления проблем и оценки производительности сети.",
      ],
      technologies: ["Cisco", "MikroTik", "TP-Link", "IP-телефония", "WireShark", "Nmap", "MTR", "CLI"],
    },
    {
      company: "ООО НПП «Циркон Сервис»",
      position: "Настройка и сопровождение антивирусных систем",
      period: "2021",
      location: "Россия",
      description:
        "Отвечал за настройку и сопровождение антивирусных систем в компании, обеспечивая защиту корпоративной сети и рабочих станций от вредоносного ПО и кибер-угроз.",
      achievements: [
        "Устанавливал антивирусные решения Kaspersky Endpoint Security и Dr.Web на серверы компании.",
        "Производил настройку и активацию антивирусных агентов на рабочих станциях по сети.",
        "Разрабатывал и применял политики безопасности.",
        "Обеспечивал текущее сопровождение системы защиты.",
        "Взаимодействовал с готовой инфраструктурой, интегрированной с Active Directory.",
      ],
      technologies: ["Kaspersky Endpoint Security", "Dr.Web", "Active Directory", "Политики безопасности"],
    },
    {
      company: "ООО НПП «Циркон Сервис»",
      position: "Проектирование и подключение системы видеонаблюдения",
      period: "2021",
      location: "Россия",
      description:
        "Занимался проектированием и внедрением системы видеонаблюдения для обеспечения безопасности помещений с ограниченным доступом и повышенными требованиями к безопасности.",
      achievements: [
        "Разрабатывал схему расположения видеокамер в помещениях с ограниченным доступом и повышенными требованиями к безопасности.",
        "Определял зоны видеоконтроля, учитывая планировку объекта, точки возможных рисков и маршруты перемещения сотрудников.",
        "Устанавливал и подключал камеры наблюдения.",
        "Обеспечивал подключение камер к видеорегистратору через информационный мост и проверял устойчивость видеопотока.",
        "Настраивал оборудование и контролировал функционирование системы видеонаблюдения в рамках внутренних требований ИБ.",
      ],
      technologies: ["Системы видеонаблюдения", "Видеорегистраторы", "Информационная безопасность"],
    },
    {
      company: "ООО НПП «Циркон Сервис»",
      position: "Настройка системы мониторинга действий пользователей",
      period: "2022",
      location: "Россия",
      description:
        "Отвечал за настройку и сопровождение системы мониторинга действий пользователей, обеспечивая контроль за соблюдением политик информационной безопасности и выявление потенциальных инцидентов.",
      achievements: [
        "Работал с развернутой системой StaffCop Enterprise, интегрированной с Active Directory.",
        "Разрабатывал и внедрял индивидуальные правила мониторинга действий пользователей на рабочих станциях.",
        "Настраивал сценарии выявления потенциальных инцидентов безопасности (передача конфиденциальной информации, попытки удалённого доступа, запуск подозрительных приложений и т.п.).",
        "Обеспечивал корректную фильтрацию и настройку триггеров, чтобы минимизировать нагрузку на клиентские устройства.",
        "Анализировал срабатывания, адаптировал правила под реальную рабочую среду и формировал отчётность для администраторов безопасности.",
      ],
      technologies: [
        "StaffCop Enterprise",
        "Active Directory",
        "Мониторинг пользователей",
        "Информационная безопасность",
      ],
    },
    {
      company: "ООО НПП «Циркон Сервис»",
      position: "Тестирование на уязвимости Wi-Fi с использованием Kali Linux",
      period: "2022",
      location: "Россия",
      description:
        "Проводил тестирование безопасности беспроводных сетей с использованием специализированного дистрибутива Kali Linux, выявляя потенциальные уязвимости и разрабатывая рекомендации по их устранению.",
      achievements: [
        "Проводил тестирование на уязвимости беспроводных сетей, используя Kali Linux.",
        "Настроил виртуальную машину для проведения атак на Wi-Fi сети с использованием инструментов Kali Linux (например, aircrack-ng, reaver, brute force).",
        "Проводил анализ паролей и конфигураций точек доступа и роутеров через удалённое соединение.",
        "Использовал Wireshark для анализа безопасности сетевого трафика и выявления возможных уязвимостей.",
        "Осуществлял тестирование на проникновение, включая перебор паролей и уязвимости протоколов WPA/WPA2.",
      ],
      technologies: ["Kali Linux", "Wireshark", "aircrack-ng", "Тестирование на проникновение", "Безопасность Wi-Fi"],
    },
  ]

  const [expandedJobs, setExpandedJobs] = useState<Record<number, boolean>>({})

  const toggleJob = (index: number) => {
    setExpandedJobs((prev) => ({
      ...prev,
      [index]: !prev[index],
    }))
  }

  return (
    <div className="space-y-6">
      {experiences.map((job, index) => {
        const isExpanded = expandedJobs[index]
        return (
          <Card
            key={index}
            className={cn("transition-all duration-300 hover:shadow-md glass-effect", isExpanded ? "shadow-md" : "")}
          >
            <CardContent className="pt-6">
              <div
                className="flex justify-between items-start cursor-pointer"
                onClick={() => toggleJob(index)}
                role="button"
                tabIndex={0}
                aria-expanded={isExpanded}
                aria-controls={`job-content-${index}`}
              >
                <div>
                  <h3 className="text-xl font-semibold">{job.position}</h3>
                  <p className="text-lg text-muted-foreground">{job.company}</p>
                </div>
                <button
                  className="text-primary hover:text-primary/80 transition-colors mt-1 p-2 rounded-full hover:bg-primary/10"
                  onClick={(e) => {
                    e.stopPropagation()
                    toggleJob(index)
                  }}
                  aria-label={isExpanded ? "Свернуть" : "Развернуть"}
                >
                  {isExpanded ? <ChevronUp className="h-5 w-5" /> : <ChevronDown className="h-5 w-5" />}
                </button>
              </div>

              <div className="flex flex-wrap items-center gap-4 mt-2 text-muted-foreground">
                <div className="flex items-center">
                  <Calendar className="h-4 w-4 mr-1 text-primary/80" />
                  {job.period}
                </div>
                <div>{job.location}</div>
              </div>

              <div
                id={`job-content-${index}`}
                className={cn(
                  "grid transition-all duration-300 overflow-hidden mt-4",
                  isExpanded ? "grid-rows-[1fr]" : "grid-rows-[0fr]",
                )}
              >
                <div className="overflow-hidden">
                  <p className="text-muted-foreground mb-4">{job.description}</p>

                  <div className="mb-4">
                    <h4 className="font-medium mb-2 text-primary/90">Ключевые достижения:</h4>
                    <ul className="list-disc pl-5 space-y-1 text-muted-foreground">
                      {job.achievements.map((achievement, i) => (
                        <li key={i}>{achievement}</li>
                      ))}
                    </ul>
                  </div>

                  <div>
                    <h4 className="font-medium mb-2 text-primary/90">Технологии:</h4>
                    <div className="flex flex-wrap gap-2">
                      {job.technologies.map((tech, i) => (
                        <Badge key={i} variant="secondary" className="bg-primary/10 text-primary hover:bg-primary/20">
                          {tech}
                        </Badge>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            </CardContent>
          </Card>
        )
      })}
    </div>
  )
}
